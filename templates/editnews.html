{{template "_head.html" .}}
<div class="container">
  <h1>Редактировать новость</h1>
  <form enctype="multipart/form-data" action="/edit/" method="POST" class="upload-form">
    <div class="form-group">
      <label>Заголовок новости</label>
      <input type="text" value="{{ .News.Title }}" class="form-control" placeholder="Введите заголовок" name="title">
    </div>
    <div class="form-group">
      <label>Превью к новости</label>
      <textarea class="form-control" name="short_content" placeholder="Текст новости" rows="3" maxlength="215" >{{ .News.Short_content }}</textarea>
    </div>
    <div class="form-group">
      <label>Текст новости</label>
      <textarea class="form-control" name="content" placeholder="Текст новости" rows="10" >{{ .News.Content }}</textarea>
    </div>
    <div class="form-group">
      <div class="form-check">
        <input class="form-check-input" {{ if .News.Publishing_at_main_page }} checked="checked" {{ end }} type="checkbox" value="1" name="publishing_at_main_page">
        <label class="form-check-label" for="defaultCheck1">
          Публикация на главной странице
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" {{ if .News.Publishing_at_lit_page }} checked="checked" {{ end }} value="1" name="publishing_at_lit_page">
        <label class="form-check-label" for="defaultCheck1">
          Публикация на сайте лицея
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" {{ if .News.Publishing_at_EC }} checked="checked" {{ end }} type="checkbox" value="1" name="publishing_at_EC">
        <label class="form-check-label" for="defaultCheck1">
          Публикация на странице ЦО
        </label>
      </div>
    </div>
    {{if .News.All_Files}}
      <details class="details-style">
        <summary class="summary-title">Изображения к новости</summary>
        {{range $a := .News.All_Files }}
          <div style="position: relative; margin-top: 10px; display: inline-block;" class="delete-file" id="{{$a}}" >
            <button type="button" class="btn btn-danger" style="position: absolute; top: 3%; right: 3%">Удалить</button>
            <a href="/{{$a}}" download=><img src="/{{$a}}" /></a>
          </div>
        {{ end }}
      </details>
    {{ end }} 
    <div class="form-group">
      <span id="file-group" class="hidden">
        Добавить изображения к новости:
        <input class="upload-file" type="file" multiple="multiple" name="myfiles" id="myfiles" accept="image/*" data-max-size="5242880">
      </span>
    </div>
    <input type="hidden" name="news_id" value={{ .News.Id }}>    
                        
    <button type="submit" class="btn btn-primary">Сохранить</button>
    <br>               
  </form>
</div>

</body>
</html>